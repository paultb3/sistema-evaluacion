{% load static %}
<!DOCTYPE html>
<html class="h-full" lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SED | Sistema de Evaluación Docente</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
            colors: {
              primary: {
                DEFAULT: "#16a34a", // verde principal
                dark: "#15803d", // verde oscuro para hover
              },
            },
          },
        },
      };
    </script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"/>
   <style>

  /* Capa superpuesta del loader que cubre toda la pantalla */
  .loader-overlay {
    display: none; /* Oculto por defecto */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.95); /* Blanco semitransparente */
    backdrop-filter: blur(5px); /* Difumina el fondo */
    z-index: 9999; /* Por encima de todo */
    justify-content: center;
    align-items: center;
    transition: all 0.3s ease;
  }

  /* Contenedor del contenido interno del loader */
  .loader-content {
    text-align: center;
  }

  /* Estilo del spinner circular */
  .loader {
    width: 60px;
    height: 60px;
    border: 4px solid #e2e8f0;         /* gris claro */
    border-top: 4px solid #16a34a;      /* verde principal */
    border-radius: 50%;                /* círculo */
    animation: spin 1s linear infinite; /* animación de rotación */
    margin: 0 auto 1rem auto;
  }

  /* Texto animado del loader ("Cargando...") */
  .loader-text {
    color: #16a34a; /* verde principal */
    font-size: 1.1rem;
    font-weight: 500;
    margin-top: 1rem;
    opacity: 0; /* comienza invisible */
    transform: translateY(10px); /* levemente desplazado hacia abajo */
    animation: fadeInUpLoader 0.5s ease forwards 0.3s; /* animación hacia arriba */
  }

  /* Animación: rotación */
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Animación: fadeIn hacia arriba (loader) */
  @keyframes fadeInUpLoader {
    to {
      opacity: 1;
      transform: translateY(0); /* vuelve a posición original */
    }
  }

  /* Cuando se añade la clase 'show' al loader: se hace visible */
  .loader-overlay.show {
    opacity: 1;
    visibility: visible;
  }

  /* Animación tipo "latido" (pulse)*/
  .loader-pulse {
    animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5; /* se desvanece al 50% de opacidad */
    }
  }

  /* Animación para mostrar el panel de Visión*/
  #vision-panel.show > div {
    opacity: 1;
    transform: scale(1); /* aparece con efecto de ampliación */
  }
  #mision-panel.show > div {
  opacity: 1;
  transform: scale(1);
}

#ingreso-panel.show > div {
  opacity: 1;
  transform: scale(1);
}

  /* FadeIn hacia arriba para secciones (como el Hero) */
  @keyframes fadeInUpSection {
    from {
      opacity: 0;
      transform: translateY(20px); /* empieza abajo */
    }
    to {
      opacity: 1;
      transform: translateY(0);    /* sube a su posición final */
    }
  }

  /* Clase utilitaria para usar el fadeInUpSection */
  .animate-fade-in-up {
    animation: fadeInUpSection 1s ease-out forwards;
  }

  /* Comportamiento de scroll suave*/
  html {
    scroll-behavior: smooth;
  }
</style>
  <style>
    .show {
      opacity: 1 !important;
      transform: scale(1) !important;
    }
    
  </style>
  </head>
</head>
<body class="min-h-screen flex flex-col font-sans bg-gray-50 text-gray-800">

  <header class="bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm">
    <div class="max-w-7xl mx-auto px-6 py-4 flex flex-col sm:flex-row items-center justify-between">

      <!-- Logo / nombre -->
      <div class="text-2xl font-extrabold text-primary tracking-tight hover:underline">
        <a href="/">SED</a>
      </div>

      <!-- Navegación -->
      <nav class="flex flex-wrap items-center justify-center gap-6 mt-4 sm:mt-0 text-gray-800 text-base font-medium">
        <a href="#inicio" class="relative group">
          <span class="group-hover:text-primary transition-colors">Inicio</span>
          <span class="block h-0.5 bg-primary scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"></span>
        </a>
        <a href="#" id="toggle-vision" class="relative group" data-no-loader>
          <span class="group-hover:text-primary transition-colors">Visión</span>
          <span class="block h-0.5 bg-primary scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"></span>
        </a>
        <a href="#" id="toggle-mision" class="relative group" data-no-loader>
          <span class="group-hover:text-primary transition-colors">Misión</span>
          <span class="block h-0.5 bg-primary scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"></span>
        </a>
        <a href="#" id="toggle-ingreso" class="relative group" data-no-loader>
          <span class="group-hover:text-primary transition-colors">¿Cómo ingresar?</span>
          <span class="block h-0.5 bg-primary scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"></span>
        </a>

        {% if user.is_authenticated %}
        <a href="{% url 'core:logout' %}" class="bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600 transition">
          Cerrar sesión
        </a>
        {% else %}
        <a href="{% url 'core:login' %}" class="bg-primary text-white px-5 py-2.5 rounded-full font-semibold shadow hover:bg-primary-dark transition">
          Iniciar sesión
        </a>
        {% endif %}
      </nav>
    </div>
  </header>

    <main class="flex-grow h-screen w-full">
<!-- AGREGE RECIEN : Panel  de Visión (tipo mega menú) -->
  <div id="vision-panel" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">
      <div class="bg-white max-w-4xl w-full mx-4 p-8 rounded-xl shadow-2xl transform scale-95 opacity-0 transition-all duration-300 ease-out overflow-y-auto max-h-[90vh] relative">
        <!-- Botón Cerrar -->
    <button id="close-vision"
      class="absolute top-4 right-4 text-gray-500 hover:text-primary text-2xl font-bold focus:outline-none">
      &times;
    </button>
        <h2 class="text-3xl font-bold text-primary mb-4">Visión</h2>
        <p class="text-gray-700 text-lg leading-relaxed">
          Ser la plataforma referente en América Latina para la gestión transparente y participativa de la calidad docente universitaria, brindando datos fiables que fortalezcan las decisiones académicas y el crecimiento profesional continuo del profesorado.
        </p>
        <div class="mt-6 flex justify-center">
          {% load static %}
          <img src="{% static 'core/vision.png' %}" alt="Visión" class="w-52 h-52 object-contain opacity-90 hover:opacity-100 transition duration-300" />
        </div>
      </div>
    </div>
      <!-- PANEL MISIÓN -->
    <div id="mision-panel" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">
  <div class="bg-white max-w-4xl w-full mx-4 p-8 rounded-xl shadow-2xl transform scale-95 opacity-0 transition-all duration-300 ease-out overflow-y-auto max-h-[90vh] relative">
    <button id="close-mision" class="absolute top-4 right-4 text-gray-500 hover:text-primary text-2xl font-bold focus:outline-none">
      &times;
    </button>
    <h2 class="text-3xl font-bold text-primary mb-4">Misión</h2>
    <p class="text-gray-700 text-lg leading-relaxed">
      Proporcionar a la comunidad universitaria una herramienta digital intuitiva que permita a los estudiantes evaluar, de forma anónima y segura, el desempeño docente; generando información valiosa, 
      filtrable y accionable que promueva la excelencia académica y fortalezca la toma de decisiones institucionales.
    </p>
    <div class="mt-6 flex justify-center">
      <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Misión" class="w-52 h-52 object-contain opacity-90 hover:opacity-100 transition duration-300" />
    </div>
  </div>
</div>
 <!-- PANEL COMO INGRESAR -->
<div id="ingreso-panel" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">
  <div class="bg-white max-w-4xl w-full mx-4 p-8 rounded-xl shadow-2xl transform scale-95 opacity-0 transition-all duration-300 ease-out overflow-y-auto max-h-[90vh] relative">
    <button id="close-ingreso" class="absolute top-4 right-4 text-gray-500 hover:text-primary text-2xl font-bold focus:outline-none">
      &times;
    </button>
    <h2 class="text-3xl font-bold text-primary mb-4">¿Cómo ingresar?</h2>
    <ol class="list-decimal list-inside space-y-4 text-gray-700 text-base sm:text-lg leading-relaxed">
  <li>Ingresa a <strong>https://sed.unas.edu.pe</strong> desde tu navegador.</li>
  <li>Presiona <strong>"Iniciar sesión"</strong> e inicia con tu cuenta UNAS.</li>
  <li>Selecciona el <strong>curso</strong> y <strong>docente</strong> que deseas evaluar.</li>
  <li>Evalúa con estrellas y agrega comentarios si lo deseas.</li>
  <li>Haz clic en <strong>"Enviar"</strong> para completar. ¡Listo!</li>
</ol>
    <div class="mt-6 flex justify-center">
      <img src="https://cdn-icons-png.flaticon.com/512/3135/3135755.png" alt="Ingreso" class="w-52 h-52 object-contain opacity-90 hover:opacity-100 transition duration-300" />
    </div>
  </div>
</div>

    <!-- Sección Hero / Inicio -->
    <section id="inicio"
  class="container mx-auto flex flex-col items-center text-center py-12 sm:py-24 px-4 sm:px-6 animate-fade-in-up">
  <h2 class="text-4xl sm:text-5xl md:text-6xl font-extrabold mb-6 text-primary leading-tight">
    ¡Bienvenido a <span class="text-primary">SED</span>!
  </h2>
  <p class="text-lg sm:text-xl md:text-2xl text-gray-700 max-w-2xl">
    Mejora continua de la docencia en la UNAS con evaluaciones 
    <span class="font-semibold text-primary">anónimas, seguras y efectivas</span>.
  </p>
  <div class="mt-10">
    <a
      href="{% url 'core:login' %}"
      class="inline-block bg-primary text-white px-8 py-4 rounded-full shadow-lg hover:scale-105 hover:bg-primary-dark transition transform duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-dark"
    >
      Empezar evaluación
    </a>
  </div>
</section>
</main>
    <!-- Pie de página -->
  <footer class="bg-primary text-white py-6">
      <div class="container mx-auto px-4 sm:px-6 text-center text-sm">

        © 2025 Universidad Nacional Agraria de la Selva - Sistema de Evaluación Docente
      </div>
    </footer>
        © 2025 Universidad Nacional Agraria de la Selva · Sistema de Evaluación
        Docente
      </div>
    </footer>
</body>

    <script>
      // Función mejorada para mostrar el loader
      function showLoader(message = "Cargando...") {
  const loader     = document.getElementById("loaderOverlay");
  const loaderText = document.getElementById("loaderText");   // ✔️

        if (loader && loaderText) {
          loaderText.textContent = message;
          loader.style.display = "flex";
          document.body.style.overflow = "hidden"; // Previene el scroll
          setTimeout(() => {
            loader.classList.add("show");
          }, 10);
        }
      }

      // Función para ocultar el loader
      function hideLoader() {
        const loader = document.getElementById("loaderOverlay");
        if (loader) {
          loader.classList.remove("show");
          setTimeout(() => {
            loader.style.display = "none";
            document.body.style.overflow = ""; // Restaura el scroll
          }, 300);
        }
      }
      
/* ------- Paneles emergentes ------- */
function configurarPanel(idBoton, idPanel, idCerrar) {
  const toggle = document.getElementById(idBoton);
  const panel  = document.getElementById(idPanel);
  const close  = document.getElementById(idCerrar);

  toggle?.addEventListener("click", e => {
    e.preventDefault();
    const hidden = panel.classList.contains("hidden");
    hidden
      ? (panel.classList.remove("hidden"), setTimeout(() => panel.classList.add("show"), 10))
      : (panel.classList.remove("show"),   setTimeout(() => panel.classList.add("hidden"), 200));
  });

  close?.addEventListener("click", () => {
    panel.classList.remove("show");
    setTimeout(() => panel.classList.add("hidden"), 200);
  });

      // Intercepta todos los clicks en enlaces
        document.addEventListener("click", e => {
    if (!panel.classList.contains("hidden") && !panel.contains(e.target) && !toggle.contains(e.target)) {
      panel.classList.remove("show");
      setTimeout(() => panel.classList.add("hidden"), 200);
    }
  });
}
      // Intercepta envíos de formularios
      document.addEventListener("submit", (e) => {
        if (!e.target.hasAttribute("data-no-loader")) {
          showLoader("Procesando...");
        }
      });

      // Muestra loader al cargar la página
      window.addEventListener("load", () => {
        hideLoader();
      });

      // Muestra loader al recargar la página
      window.addEventListener("beforeunload", () => {
        showLoader();
      });
    </script>
  </body>
 <script>
  function configurarPanel(idBoton, idPanel, idCerrar) {
    const toggle = document.getElementById(idBoton);
    const panel = document.getElementById(idPanel);
    const close = document.getElementById(idCerrar);

    // Abrir/cerrar con botón
    toggle?.addEventListener("click", (e) => {
      e.preventDefault();
      const isHidden = panel.classList.contains("hidden");

      if (isHidden) {
        panel.classList.remove("hidden");
        setTimeout(() => panel.classList.add("show"), 10);
      } else {
        panel.classList.remove("show");
        setTimeout(() => panel.classList.add("hidden"), 200);
      }
    });

    // Cerrar con botón interno
    close?.addEventListener("click", () => {
      panel.classList.remove("show");
      setTimeout(() => panel.classList.add("hidden"), 200);
    });

    // Cerrar haciendo clic fuera
    document.addEventListener("click", (e) => {
      if (
        panel &&
        !panel.contains(e.target) &&
        !toggle.contains(e.target)
      ) {
        panel.classList.remove("show");
        setTimeout(() => panel.classList.add("hidden"), 200);
      }
    });
  }

  // Configura los tres paneles
  configurarPanel("toggle-vision", "vision-panel", "close-vision");
  configurarPanel("toggle-mision", "mision-panel", "close-mision");
  configurarPanel("toggle-ingreso", "ingreso-panel", "close-ingreso");
</script>

</body>
</html>